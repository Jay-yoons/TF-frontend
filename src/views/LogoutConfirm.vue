<template>
  <div class="backdrop"></div>
  <div class="modal">
    <div class="modal-header">
      <strong>ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ</strong>
      <button class="x" aria-label="close" @click="goHome">Ã—</button>
    </div>
    <p class="body">ì•ˆì „í•˜ê²Œ ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤.</p>
    <div class="actions">
      <button class="primary" @click="goHome">í™•ì¸</button>
    </div>
  </div>
</template>

<script>
import { useUserStore } from '@/stores/userStore'

export default {
  name: 'LogoutConfirm',
  mounted() {
    console.log('ğŸ” [DEBUG] LogoutConfirm.vue mounted ì‹œì‘');
    
    // 1) userStoreì˜ logout í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¼ê´€ì„± ìœ ì§€
    const userStore = useUserStore()
    if (userStore) {
      console.log('ğŸ” [DEBUG] userStore.logout() í˜¸ì¶œ ì‹œì‘');
      // userStoreì˜ logout í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ /logout ê²½ë¡œ ë¬¸ì œ í•´ê²°
      userStore.logout()
      console.log('ğŸ” [DEBUG] userStore.logout() í˜¸ì¶œ ì™„ë£Œ');
    } else {
      console.error('âŒ [ERROR] userStoreë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ');
    }
    
    console.log('ğŸ” [DEBUG] LogoutConfirm.vue mounted ì™„ë£Œ');
  },
  methods: {
    goHome() {
      console.log('ğŸ” [DEBUG] goHome() í˜¸ì¶œ - í™ˆìœ¼ë¡œ ì´ë™');
      this.$router.replace({ name: 'HomePage' })
    }
  }
}
</script>

<style scoped>
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(2px);}
.modal{position:fixed;left:50%;top:40%;transform:translate(-50%,-50%);
  width:360px;background:#fff;border-radius:16px;box-shadow:0 20px 40px rgba(0,0,0,.18);
  padding:22px 24px;}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.body{margin:8px 0 18px;color:#333}
.actions{display:flex;justify-content:center}
.primary{background:#ff5a2f;color:#fff;border:0;border-radius:10px;padding:10px 20px;cursor:pointer}
.x{background:transparent;border:0;font-size:20px;cursor:pointer;line-height:1}
</style>
